/* card-info v1.0.1 | Get bank logo, colors, brand and etc. by card number | https://github.com/iserdmi/card-info.git | by Sergey Dmitriev (http://srdm.io) */
!function(){function n(e,t){n._assign(this,n._defaultProps),this.options=n._assign({},n.defaultOptions,t||{}),this.numberSource=arguments.length?e:"",this.number=n._getNumber(this.numberSource);var o=n._getBank(this.number);o&&(this.bankAlias=o.alias,this.bankName=o.name,this.bankNameEn=o.nameEn,this.bankCountry=o.country,this.bankUrl=o.url,this.bankLogoPng=n._getLogo(this.options.banksLogosPath,o.logoPng),this.bankLogoSvg=n._getLogo(this.options.banksLogosPath,o.logoSvg),this.bankLogo=n._getLogoByPreferredExt(this.bankLogoPng,this.bankLogoSvg,this.options.preferredExt),this.bankLogoStyle=o.logoStyle,this.backgroundColor=o.backgroundColor,this.backgroundColors=o.backgroundColors,this.backgroundLightness=o.backgroundLightness,this.textColor=o.text),this.backgroundGradient=n._getGradient(this.backgroundColors,this.options.gradientDegrees);var a=n._getBrand(this.number);if(a){this.brandAlias=a.alias,this.brandName=a.name;var s=n._getBrandLogoBasename(this.brandAlias,this.options.brandLogoPolicy,this.backgroundLightness,this.bankLogoStyle);this.brandLogoPng=n._getLogo(this.options.brandsLogosPath,s,"png"),this.brandLogoSvg=n._getLogo(this.options.brandsLogosPath,s,"svg"),this.brandLogo=n._getLogoByPreferredExt(this.brandLogoPng,this.brandLogoSvg,this.options.preferredExt),this.codeName=a.codeName,this.codeLength=a.codeLength,this.numberLengths=a.lengths,this.numberGaps=a.gaps}this.numberMask=n._getMask(this.options.maskDigitSymbol,this.options.maskDelimiterSymbol,this.numberLengths,this.numberGaps),this.numberNice=n._getNumberNice(this.number,this.numberGaps)}n._defaultProps={bankAlias:null,bankName:null,bankNameEn:null,bankCountry:null,bankUrl:null,bankLogo:null,bankLogoPng:null,bankLogoSvg:null,bankLogoStyle:null,backgroundColor:"#eeeeee",backgroundColors:["#eeeeee","#dddddd"],backgroundLightness:"light",backgroundGradient:null,textColor:"#000",brandAlias:null,brandName:null,brandLogo:null,brandLogoPng:null,brandLogoSvg:null,codeName:null,codeLength:null,numberMask:null,numberGaps:[4,8,12],numberLengths:[16],numberNice:null,number:null,numberSource:null,options:{}},n.defaultOptions={banksLogosPath:"/bower_components/card-info/dist/banks-logos/",brandsLogosPath:"/bower_components/card-info/dist/brands-logos/",brandLogoPolicy:"auto",preferredExt:"svg",maskDigitSymbol:"0",maskDelimiterSymbol:" ",gradientDegrees:135},n.banks={},n._prefixes={},n.brands=[{alias:"visa",name:"Visa",codeName:"CVV",codeLength:3,gaps:[4,8,12],lengths:[16],pattern:/^4\d*$/},{alias:"master-card",name:"MasterCard",codeName:"CVC",codeLength:3,gaps:[4,8,12],lengths:[16],pattern:/^(5[1-5]|222[1-9]|2[3-6]|27[0-1]|2720)\d*$/},{alias:"american-express",name:"American Express",codeName:"CID",codeLength:4,gaps:[4,10],lengths:[15],pattern:/^3[47]\d*$/},{alias:"diners-club",name:"Diners Club",codeName:"CVV",codeLength:3,gaps:[4,10],lengths:[14],pattern:/^3(0[0-5]|[689])\d*$/},{alias:"discover",name:"Discover",codeName:"CID",codeLength:3,gaps:[4,8,12],lengths:[16,19],pattern:/^(6011|65|64[4-9])\d*$/},{alias:"jcb",name:"JCB",codeName:"CVV",codeLength:3,gaps:[4,8,12],lengths:[16],pattern:/^(2131|1800|35)\d*$/},{alias:"unionpay",name:"UnionPay",codeName:"CVN",codeLength:3,gaps:[4,8,12],lengths:[16,17,18,19],pattern:/^62[0-5]\d*$/},{alias:"maestro",name:"Maestro",codeName:"CVC",codeLength:3,gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],pattern:/^(5[0678]|6304|6390|6054|6271|67)\d*$/},{alias:"mir",name:"MIR",codeName:"CVC",codeLength:3,gaps:[4,8,12],lengths:[16],pattern:/^22\d*$/}],n._assign=function(){for(var n=arguments[0],e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)n[o]=t[o]}return n},n._getNumber=function(n){var e=n+"";return/^[\d ]*$/.test(e)?e.replace(/\D/g,""):""},n._getBank=function(n){if(!(n.length<6)){var e=n.substr(0,6);return this._prefixes[e]?this.banks[this._prefixes[e]]:void 0}},n._getBrand=function(n){for(var e=[],t=0;t<this.brands.length;t++)this.brands[t].pattern.test(n)&&e.push(this.brands[t]);if(1===e.length)return e[0]},n._getLogo=function(n,e,t){return e?n+(t?e+"."+t:e):null},n._getBrandLogoBasename=function(n,e,t,o){switch(e){case"auto":return n+"-"+(o||"colored");case"colored":return n+"-colored";case"mono":return n+("light"===t?"-black":"-white");case"black":return n+"-black";case"white":return n+"-white"}},n._getLogoByPreferredExt=function(n,e,t){return n||e?n?e?n.substr(n.length-3)===t?n:e:n:e:null},n._getGradient=function(n,e){return"linear-gradient("+e+"deg, "+n.join(", ")+")"},n._getMask=function(n,e,t,o){for(var a=t[t.length-1],s=Array(a+1).join(n),r=0;r<o.length;r++){var i=o[r]+e.length*r;s=[s.slice(0,i),e,s.slice(i)].join("")}return s},n._getNumberNice=function(n,e){for(var t=[0].concat(e).concat([n.length]),o=[],a=0;t[a]<n.length;a++){var s=t[a],r=Math.min(t[a+1],n.length);o.push(n.substring(s,r))}return o.join(" ")},n._addBanks=function(n){this._assign(this.banks,n)},n._addPrefixes=function(n){this._assign(this._prefixes,n)},n.addBanksAndPrefixes=function(n){this._addBanks(n.banks),this._addPrefixes(n.prefixes)},n.setDefaultOptions=function(e){this._assign(n.defaultOptions,e)},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports.CardInfo=n):"undefined"!=typeof window&&(window.CardInfo=n)}();